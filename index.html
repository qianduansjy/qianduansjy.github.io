<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="Ten years from now,what we will do?">
<meta property="og:type" content="website">
<meta property="og:title" content="小时光">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="小时光">
<meta property="og:description" content="Ten years from now,what we will do?">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小时光">
<meta name="twitter:description" content="Ten years from now,what we will do?">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>

  <title> 小时光 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">小时光</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archiv
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/13/node/" itemprop="url">
                  node.js笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2017-01-13T22:35:23+08:00" content="2017-01-13">
              2017-01-13
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="node的定义"><a href="#node的定义" class="headerlink" title="node的定义"></a>node的定义</h3><ul>
<li>node.js是javascript的运行环境，基于Chrome浏览器的V8引擎（引擎和内核是一个东西）。</li>
<li>node.js的特点：</li>
</ul>
<ol>
<li>事件驱动 </li>
<li>无阻塞的io模型（input、output）：node中io主要是文件的读写、网络的请求、……</li>
<li>使node轻量、高效</li>
</ol>
<ul>
<li>node.js的包生态系统npm是世界上最大的包管理系统，node package manager是一个客户端工具。</li>
</ul>
<h3 id="浏览器与node-js运行js的模型"><a href="#浏览器与node-js运行js的模型" class="headerlink" title="浏览器与node.js运行js的模型"></a>浏览器与node.js运行js的模型</h3><ul>
<li>node.js与js的关系：主动<br>我们告诉node.js去执行什么js文件。   js文件——&gt;node.js</li>
<li>浏览器也是javascript的运行环境<br>浏览器与js的关系：被动<br>我们拖拽或向浏览器发送请求让浏览器加载某个页面。   js文件——&gt;页面——&gt;浏览器</li>
<li>node.js如何运行js文件？<br>node+<span style="color:red">文件路径</span>：node是调用已经安装的node应用程序，文件路径是给node传的一个参数。<br>注意：<span style="color:red;font-weight:bold">不可以跨盘符去调用js文件</span>，比如现在在D盘打开命令窗口，不可以去调用C盘的js文件。</li>
<li>执行js文件<br>用node执行js文件：<br>文件在当前目录下 ————&gt; node 文件名或node ./文件名<br>文件在上一级目录下 ————&gt; node ../文件名<br>.\或者..\ ————&gt; 相对路径<br>c:/xx/xx.js ————&gt; 绝对路径<br>\ ————&gt; linux 根目录<br>\ ————&gt; windows 盘符的根目录 </li>
</ul>
<h3 id="js的引擎"><a href="#js的引擎" class="headerlink" title="js的引擎"></a>js的引擎</h3><p>引擎特点：</p>
<ul>
<li>转化（核心特点）  </li>
</ul>
<ol>
<li>汽车引擎   汽油——&gt;能量</li>
<li>模板引擎   数据+模板——&gt;页面</li>
<li>js引擎     js代码——&gt;0101010101等计算识别的二进制码（字节码、机器码）</li>
</ol>
<ul>
<li>可移植性<br>Chrome V8引擎<br><span style="color:red"><br>注意：<br>node没有兼容性问题。<br>node不是浏览器。<br>node.js是后台的技术（java、php……），不是前端的技术。<br>node.js不是语言，它运行js语言去干后台干的事情。<br></span></li>
</ul>
<h3 id="谁在用node-js"><a href="#谁在用node-js" class="headerlink" title="谁在用node.js"></a>谁在用node.js</h3><p>创业公司：开发成本低，开发效率高<br>互联网公司：阿里巴巴、腾讯、百度<br>游戏公司：哔哩哔哩</p>
<h3 id="node-js的历史"><a href="#node-js的历史" class="headerlink" title="node.js的历史"></a>node.js的历史</h3><p>2009年出现，Linux版本。<br>2011年7月，Node.js在微软的支持下发布Window版本。</p>
<h3 id="node-js的版本进化"><a href="#node-js的版本进化" class="headerlink" title="node.js的版本进化"></a>node.js的版本进化</h3><ul>
<li>LTS：long time support  长期支持，稳定版，推荐下载LTS版本<br>Current:最新的，不稳定</li>
<li>.msi:安装版<br>.exe：二进制版（不推荐，安装版用不了才下载.exe版）<br>……<br>可见，node.js是跨平台使用的。</li>
<li>node.js的单数版本是测试版（激进版），eg. v.0.11.1<br>node.js的双数版本是稳定版，长期维护，推荐下载双数版，eg. v.0.12.15<br>标注了A的是真正的<br>标注了Boron</li>
</ul>
<h2 id="node-js模块化"><a href="#node-js模块化" class="headerlink" title="node.js模块化"></a>node.js模块化</h2><ul>
<li>一个js文件就是一个模块，模块里面的代码的作用域就在这个文件中。全局作用域global里面可以定义很多个模块。模块与模块之间相互独立，作用域互不干扰。每一个js文件可以看成一个对象，对象里面定义了许多属性和方法。</li>
<li>模块化的优点：</li>
</ul>
<ol>
<li>一次编写多次使用</li>
<li>便于维护</li>
</ol>
<ul>
<li>node的模块化符合common.js规范</li>
<li>模块作用域：在一个模块内变量、函数、对象都属于这个模块，对外是封闭的。</li>
</ul>
<h3 id="如何在js文件中调用另外一个js文件？"><a href="#如何在js文件中调用另外一个js文件？" class="headerlink" title="如何在js文件中调用另外一个js文件？"></a>如何在js文件中调用另外一个js文件？</h3><p>被调用者：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var a=123;</div><div class="line">&lt;!-- 打开一个通道被别人调用 --&gt;</div><div class="line">module.exports=a;</div></pre></td></tr></table></figure></p>
<p>调用者：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 插座，去加载module.js文件中的对象，得到a --&gt;</div><div class="line">var data=require(&apos;./module.js&apos;);</div><div class="line">&lt;!-- 通过接口得到了module.exports的值 --&gt;</div><div class="line">&lt;!-- 结果为：123 --&gt;</div><div class="line">console.log(data);</div></pre></td></tr></table></figure></p>
<h2 id="globals"><a href="#globals" class="headerlink" title="globals"></a>globals</h2><h3 id="全局作用域global"><a href="#全局作用域global" class="headerlink" title="全局作用域global"></a>全局作用域global</h3><p>以后任何js都不用’全局’的定义。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 创建一个变量看是否赋给了global对象 --&gt;</div><div class="line">&lt;!-- 这里的a参数没有赋给global --&gt;</div><div class="line">&lt;!-- 用var定义的变量,作用域是当前js文件 --&gt;</div><div class="line">var a=123;</div><div class="line">&lt;!-- 结果为undefined --&gt;</div><div class="line">console.log(global.a);</div><div class="line">console.log(global);</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 全局变量赋值给了global --&gt;</div><div class="line">&lt;!-- 未用var定义的变量,作用域是全局作用域global --&gt;</div><div class="line">a=123;</div><div class="line">&lt;!-- 结果为123 --&gt;</div><div class="line">console.log(global.a);</div></pre></td></tr></table></figure>
<p>说明了node在运行js的时候，一个js里面的代码的作用域就是这个js，全局global访问不到在js文件中用var定义的变量。</p>
<h3 id="console"><a href="#console" class="headerlink" title="console"></a>console</h3><ul>
<li>console.log();</li>
<li><p>断言:console.assert();<br>断言是用来测试用的，断言就是一个条件，如果条件成立则不输出任何内容；如果条件不成立则报错，还要输出想要输出的内容。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;!-- assert用于精准地定位错误 --&gt;</div><div class="line">console.assert(条件,条件不成立输出的内容);</div><div class="line"></div><div class="line">var a=10;</div><div class="line">&lt;!-- 比较a和11，如果a!=11，就打印出报错信息:报错了…… --&gt;</div><div class="line">console.assert(a==11,&apos;报错了……&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>console.time();和console.timeEnd();</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 注意：time和timeEnd两个方法的参数必须一样，并且成对的出现 --&gt;</div><div class="line">&lt;!-- 用来检测time和timeEnd之间的代码的运行时间 --&gt;</div><div class="line">console.time(&apos;test&apos;);</div><div class="line">&lt;!-- 两个console中间是其他js代码 --&gt;</div><div class="line">console.timeEnd(&apos;test&apos;);</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="module"><a href="#module" class="headerlink" title="module"></a>module</h3><ul>
<li>模块对象，当运行js的时候，有一个js，node就会为其创建一个module去存储这个js的相关信息。</li>
<li>module.exports<br>它是最终曝露出去的对象，想曝露出去对象、属性、方法，就将它们挂载到module.exports身上。</li>
</ul>
<h3 id="exports"><a href="#exports" class="headerlink" title="exports"></a>exports</h3><p>exports是module.exports的别名、引用，exports能做的module.exports都可以完成。</p>
<h3 id="require"><a href="#require" class="headerlink" title="require"></a>require</h3><ul>
<li>require(“路径”);         //路径现阶段使用相对路径</li>
<li>第一次加载js的时候，会执行一遍js里面的代码；<br>第二次加载js的时候，不执行js代码，直接去内存中找到第一次加载js对应的module对象，从中找到module.exports。</li>
<li>require 原理解析<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"> function MyRquire(path)&#123;</div><div class="line">    function Module()&#123;</div><div class="line">      this.exports=&#123;&#125;;</div><div class="line">    &#125;</div><div class="line">    var fs=require(&apos;fs&apos;);</div><div class="line">    var source= fs.readFileSync(path,&apos;utf8&apos;);</div><div class="line">    var package=&apos;(function(module.exports,module)&#123;&apos;+source+&apos; return module.exports;&#125;)&apos;;</div><div class="line">    var packObj=eval(package);</div><div class="line">    var module=new Module();</div><div class="line">    var obj=packObj(module.exports,module);</div><div class="line">    return obj;</div><div class="line"> &#125;</div><div class="line">var foo= MyRquire(&apos;./foo.js&apos;);</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="dirname"><a href="#dirname" class="headerlink" title="__dirname"></a>__dirname</h3><p>运行的文件所在的当前目录（不包括文件名）<br>命令行：F:\就业班-讲课\node1\案例&gt;node __dirname.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">console.log(__dirname);     //F:\就业班-讲课\node1\案例</div></pre></td></tr></table></figure></p>
<h3 id="filename"><a href="#filename" class="headerlink" title="__filename"></a>__filename</h3><p>运行的文件所在的当前目录的全路径（包括文件名）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">console.log(__filename);    //F:\就业班-讲课\node1\案例\__dirname.js</div></pre></td></tr></table></figure></p>
<h3 id="以后读取文件时一定要使用-dirname或-filename，将文件路径拼接成绝对路径"><a href="#以后读取文件时一定要使用-dirname或-filename，将文件路径拼接成绝对路径" class="headerlink" title="以后读取文件时一定要使用_dirname或_filename，将文件路径拼接成绝对路径"></a>以后读取文件时一定要使用_<em>dirname</em>或_filename，将文件路径拼接成绝对路径</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">fs.readFile(__dirname+&apos;/foo.js&apos;, &apos;utf8&apos;, function(err, data) &#123;</div><div class="line">    </div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="setTimeout和setInterval"><a href="#setTimeout和setInterval" class="headerlink" title="setTimeout和setInterval"></a>setTimeout和setInterval</h3><h3 id="模块化总结"><a href="#模块化总结" class="headerlink" title="模块化总结"></a>模块化总结</h3><ul>
<li>模块化的代码具有封装性，对代码进行包装，想让你用什么接口，就使用什么接口。</li>
<li>有封装就有打破封装，需要给别人开接口，可以使用module.exports或exports开接口。</li>
<li>直接赋值的时候建议用module.exports；只能给exports添加属性，不能直接给exports赋值。</li>
<li>当一个js文件中有很多的属性和方法时，就使用exports向外暴露。</li>
<li>一个js文件就是一个模块。</li>
<li>一个模块的信息被保存在module对象里面，每一个模块都有一个module与之对应。</li>
<li>module对象产生了以后，第二次加载就不会再去执行，而是去内存中的module对象中找module.exports。</li>
</ul>
<h2 id="3m安装法"><a href="#3m安装法" class="headerlink" title="3m安装法"></a>3m安装法</h2><h3 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h3><p>应用：下载包（jQuery代码……）、下载工具  </p>
<h3 id="nvm"><a href="#nvm" class="headerlink" title="nvm"></a>nvm</h3><ul>
<li>基本命令<br>nvm -h ——————————&gt; 查看帮助文档<br>nvm list ——————————&gt; 查看所有版本<br>nvm use 6.9.1 ——————————&gt; 使用6.9.1版本<br>node -v ——————————&gt; 查看当前使用的版本，6.9.1<br>nvm install 版本号 ——————————&gt; 下载<br>nvm install 6.9.4 ——————————&gt; 安装6.9.4版本</li>
</ul>
<h3 id="nrm"><a href="#nrm" class="headerlink" title="nrm"></a>nrm</h3><p><span style="font-weight:bold">nrm是npm数据源管理工具。</span></p>
<ul>
<li>nrm的安装：npm install -g nrm<br>加上-g：全局安装<br>不加-g：下载到当前目录下</li>
<li>基本命令</li>
</ul>
<ol>
<li>nrm -h或nrm –help ——————————&gt; 查看帮助文档</li>
<li>nrm ls ——————————&gt; 查看npm的数据源，标星号的表示正在使用的数据     </li>
<li>nrm use 数据源的名字 ——————————&gt; 切换数据源<br>eg.nrm use taobao —————&gt; 切换到淘宝镜像<br>nrm -V或nrm –version ——————————&gt; 查看版本<br>nrm test ——————————&gt; 测试每个数据源的执行效率和是否可用<br>&lt;&gt; ——————————&gt; 必选参数<br>[] ——————————&gt; 可选参数    </li>
</ol>
<ul>
<li>在命令行输’回车’，出现类似控制台的’&gt;’,进入REPL（Read Eval Print Loop，交互式运行环境），在这儿可以测试node的新语法。按两次’Ctrl+C’，退出REPL    </li>
</ul>
<h2 id="模块系统"><a href="#模块系统" class="headerlink" title="模块系统"></a>模块系统</h2><h3 id="模块的种类"><a href="#模块的种类" class="headerlink" title="模块的种类"></a>模块的种类</h3><h4 id="核心模块（原生模块）"><a href="#核心模块（原生模块）" class="headerlink" title="核心模块（原生模块）"></a>核心模块（原生模块）</h4><p>node自带，用名称直接可以加载。<br>eg. var fs=require(‘fs’);</p>
<ul>
<li>核心模块有哪些：<br>fs（file system） ——————&gt; 文件系统<br>http ——————&gt; 制作网站的<br>os ——————&gt; 获取电脑信息<br>path ——————&gt; 路径拼接用的<br>query<br>url<br>……</li>
<li>核心模块存在的意义：<br>我们需要node给我们提供一些方法，让我们可以方便地去处理电脑的硬件。</li>
</ul>
<h4 id="文件模块"><a href="#文件模块" class="headerlink" title="文件模块"></a>文件模块</h4><ul>
<li>用路径加载</li>
<li>有一种特殊的文件模块————包（可以用包的名字加载）</li>
<li>require 加载包的时候：</li>
</ul>
<ol>
<li>直接写包名，先在包内的node_modules目录下查找，找不到：</li>
<li>去父级目录下的node_modules目录下查找，找不到：</li>
<li>依次向上查找node_modules目录，直到根目录。</li>
</ol>
<h2 id="File-System"><a href="#File-System" class="headerlink" title="File System"></a>File System</h2><p>Node.js内置的fs模块就是文件系统模块，负责读写文件。<br>和所有其它JavaScript模块不同的是，fs模块同时提供了异步和同步的方法。</p>
<h3 id="fs-readFile-file-options-callback-异步读文件"><a href="#fs-readFile-file-options-callback-异步读文件" class="headerlink" title="fs.readFile(file[, options], callback)   异步读文件"></a>fs.readFile(file[, options], callback)   异步读文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 引入fs核心模块，直接用名字的方式引入 --&gt;</div><div class="line">var fs=require(&apos;fs&apos;);</div><div class="line">&lt;!-- 读文件的方法 --&gt;</div><div class="line">&lt;!-- 第一个参数是路径 --&gt;</div><div class="line">&lt;!-- 第二个参数使用utf8的编码格式 --&gt;</div><div class="line">&lt;!-- 第三个参数是回调函数，回调函数中有两个参数 --&gt;</div><div class="line">&lt;!-- 1. err 错误对象   在异步方式下，第一个参数永远是错误对象 --&gt;</div><div class="line">&lt;!-- 2. data是要读取的文件里面的全部内容 --&gt;</div><div class="line">fs.readFile(&apos;demo.js&apos;,&#123;encoding:&apos;utf8&apos;,flag:&apos;r&apos;&#125;,function(err,data) &#123;&#125;)</div><div class="line"></div><div class="line">fs.readFile(&apos;edemo.js&apos;,&apos;utf8&apos;,function(err,data) &#123;</div><div class="line">    if(err) &#123;</div><div class="line">        throw err;</div><div class="line">    &#125;</div><div class="line">    &lt;!-- 当抛出err时，下面的代码终止执行 --&gt;</div><div class="line">    console.log(data);</div><div class="line">&#125;)</div><div class="line">&lt;!-- Error: ENOENT: no such file or directory, open &apos;F:\就业班-讲课\node1\案例\edemo.</div><div class="line">js&apos;</div><div class="line">    at Error (native) --&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">fs.readFile(&apos;edemo.js&apos;,&apos;utf8&apos;,function(err,data) &#123;</div><div class="line">    if(err)</div><div class="line">    &lt;!-- 当发生错误但不抛出err时，下面的代码不会终止执行 --&gt;</div><div class="line">    &lt;!-- 路径错误，找不到edemo.js，所以执行结果为undefined --&gt;</div><div class="line">    console.log(data);            //undefined</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">fs.readFile(&apos;demo.js&apos;,&apos;utf8&apos;,function(err,data) &#123;</div><div class="line">    &lt;!-- 没有发生错误，所以err对象为空 --&gt;</div><div class="line">    console.log(err);             //null</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="fs-readFileSync-file-options-同步读文件"><a href="#fs-readFileSync-file-options-同步读文件" class="headerlink" title="fs.readFileSync(file[, options])   同步读文件"></a>fs.readFileSync(file[, options])   同步读文件</h3><ul>
<li><p>当正确时，输出要读取的文件里面的全部内容，当发生错误时，不管抛不抛出err，都直接终止代码的执行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var fs=require(&apos;fs&apos;);</div><div class="line">&lt;!--原异步调用的回调函数的data被函数直接返回，函数名需要改为readFileSync，其它参数不变。--&gt;</div><div class="line">var data=fs.readFileSync(&apos;demo.js&apos;,&apos;utf8&apos;);</div><div class="line">    console.log(err);          //null</div><div class="line">    console.log(data);</div></pre></td></tr></table></figure>
</li>
<li><p>如果同步读取文件发生错误，则需要用try…catch捕获该错误：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">try &#123;</div><div class="line">    &lt;!--可能出现错误的代码--&gt;</div><div class="line">    var data = fs.readFileSync(&apos;sample.txt&apos;, &apos;utf-8&apos;);</div><div class="line">    console.log(data);</div><div class="line">&#125; catch (err) &#123;</div><div class="line">    // 出错了</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>当读取二进制文件时，不传入文件编码时，回调函数的data参数将返回一个Buffer对象。<br>在Node.js中，Buffer对象就是一个包含零个或任意个字节的数组（注意和Array不同）。<br>Buffer对象可以和String作转换，例如，把一个Buffer对象转换成String：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;!--Buffer -&gt; String--&gt;</div><div class="line">var text = data.toString(&apos;utf-8&apos;);</div><div class="line">console.log(text);</div></pre></td></tr></table></figure>
<p>或者把一个String转换成Buffer：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;!--String -&gt; Buffer--&gt;</div><div class="line">var buf = new Buffer(text, &apos;utf-8&apos;);</div><div class="line">console.log(buf);</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="fs-writeFile-file-data-options-callback-异步写文件"><a href="#fs-writeFile-file-data-options-callback-异步写文件" class="headerlink" title="fs.writeFile(file, data[, options], callback)   异步写文件"></a>fs.writeFile(file, data[, options], callback)   异步写文件</h3><ul>
<li>writeFile()的参数依次为文件名、数据和回调函数。</li>
<li>如果传入的data参数是string，默认按UTF-8编码写入指定的文件，即使不存在该文件，也会自动帮我们生成一个以第一个参数为名字的文件，文件内容就是data;如果指定文件已经存在，那么会将原文件里面的内容覆盖。</li>
<li>如果传入的data参数是buffer，则写入的是二进制文件。</li>
<li>回调函数由于只关心成功与否，因此只需要一个err参数。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var fs = require(&apos;fs&apos;);</div><div class="line">var data = &apos;Hello, Node.js&apos;;</div><div class="line">fs.writeFile(&apos;文件名.后缀名 &apos;, data, function (err) &#123;</div><div class="line">    if (err) &#123;</div><div class="line">        throw err;</div><div class="line">    &#125;</div><div class="line">     console.log(&apos;ok&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var fs = require(&apos;fs&apos;);</div><div class="line">fs.writeFile(&apos;message.txt&apos;, &apos;Hello Node.js&apos;, &apos;utf8&apos;, callback);</div><div class="line">&lt;!--可选参数options对象里面的属性值都是各个属性对应的默认值--&gt;</div><div class="line">fs.writeFile(&apos;message.txt&apos;, &apos;Hello Node.js&apos;, &#123;encoding:&apos;utf8&apos;,mode:&apos;0o666&apos;,flag:&apos;w&apos;&#125;, callback);</div></pre></td></tr></table></figure>
<h3 id="fs-writeFileSync-file-data-options-同步写文件"><a href="#fs-writeFileSync-file-data-options-同步写文件" class="headerlink" title="fs.writeFileSync(file, data[, options])   同步写文件"></a>fs.writeFileSync(file, data[, options])   同步写文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var fs = require(&apos;fs&apos;);</div><div class="line">var data = &apos;Hello, Node.js&apos;;</div><div class="line">fs.writeFileSync(&apos;output.txt&apos;, data);</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;!--可选参数options对象里面的属性值都是各个属性对应的默认值--&gt;</div><div class="line">fs.writeFileSync(&apos;message.txt&apos;, &apos;Hello Node.js&apos;, &#123;encoding:&apos;utf8&apos;,mode:&apos;0o666&apos;,flag:&apos;w&apos;&#125;);</div></pre></td></tr></table></figure>
<h3 id="fs-access-path-mode-callback-用来判断文件是否存在"><a href="#fs-access-path-mode-callback-用来判断文件是否存在" class="headerlink" title="fs.access(path,[mode], callback)   用来判断文件是否存在"></a>fs.access(path,[mode], callback)   用来判断文件是否存在</h3><ul>
<li>path：判断路径是否正确（也可以判断文件）  eg. ‘./pic’</li>
<li>mode：一般不用，默认就可以了，用的话是用来判断文件是否可读可写可执行</li>
<li>callback：只有一个参数err，如果err对象存在，说明文件有问题</li>
</ul>
<h3 id="在fs模块中，我们到底是应该用异步方法还是同步方法呢？"><a href="#在fs模块中，我们到底是应该用异步方法还是同步方法呢？" class="headerlink" title="在fs模块中，我们到底是应该用异步方法还是同步方法呢？"></a>在fs模块中，我们到底是应该用异步方法还是同步方法呢？</h3><p>在fs模块中，提供同步方法是为了方便使用。那我们到底是应该用异步方法还是同步方法呢？</p>
<ul>
<li>由于Node环境执行的JavaScript代码是服务器端代码，所以，绝大部分需要在服务器运行期反复执行业务逻辑的代码，必须使用异步代码，否则，同步代码在执行时期，服务器将停止响应，因为JavaScript只有一个执行线程。</li>
<li>服务器启动时如果需要读取配置文件，或者结束时需要写入到状态文件时，可以使用同步代码，因为这些代码只在启动和结束时执行一次，不影响服务器正常运行时的异步执行。</li>
</ul>
<h3 id="标识符中可以不包含扩展名"><a href="#标识符中可以不包含扩展名" class="headerlink" title="标识符中可以不包含扩展名"></a>标识符中可以不包含扩展名</h3><ul>
<li>node会按照.js——&gt;.node——&gt;.json的顺序补足扩展名，依次尝试。</li>
<li>require(‘./foo’)：可以不写.js，因为它会自动帮我们补足，补足的顺序为：.js——&gt;.node——&gt;.json</li>
<li>如果是加载json文件模块，最好加上后缀.json，能稍微的提高一点加载的速度。</li>
<li>后缀为.node的文件是c/c++写的一些扩展模块。</li>
<li><span style="color:red">注意：.js可以不写，.json一定要写，为了节省系统资源</span></li>
</ul>
<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><p>ES6标准新增了一种新的函数：Arrow Function（箭头函数）。<br><span style="color:red;">箭头函数可以替代一般的函数，但是不能写构造函数和匿名函数。</span></p>
<h3 id="为什么叫Arrow-Function？"><a href="#为什么叫Arrow-Function？" class="headerlink" title="为什么叫Arrow Function？"></a>为什么叫Arrow Function？</h3><p>因为它的定义用的就是一个箭头：</p>
<ul>
<li>一个参数、一个返回值<br>var foo = function (v) {<br>  return v;<br>}<br>相当于：<br>var foo = v =&gt; v;</li>
<li>无参数、有返回值<br>var foo = function () {<br>  return v;<br>}<br>相当于：<br>var foo = () =&gt; v;</li>
<li>多参数、有返回值<br>var foo = function (v1, v2) {<br>  return v1 + v2;<br>}<br>相当于：<br>// 如果参数不是一个，就需要用括号()括起来<br>var foo = (v1, v2) =&gt; v1 + v2;</li>
<li>有参数、没有返回值<br>var foo = function(v1, v2) {<br>  console.log(123);<br>}<br>相当于：<br>var foo = (v1, v2) =&gt; {<br>  console.log(123);<br>}</li>
</ul>
<h3 id="箭头函数的格式"><a href="#箭头函数的格式" class="headerlink" title="箭头函数的格式"></a>箭头函数的格式</h3><p>箭头函数相当于匿名函数，并且简化了函数定义。<br>箭头函数有两种格式，一种像上面的，只包含一个表达式，连{ … }和return都省略掉了。<br>还有一种可以包含多条语句，这时候就不能省略{ … }和return：<br>x =&gt; {<br>    if (x &gt; 0) {<br>        return x <em> x;<br>    }<br>    else {<br>        return - x </em> x;<br>    }<br>}</p>
<h3 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h3><p>如果要返回一个对象，就要注意，如果是单表达式，这么写的话会报错：<br>x =&gt; { foo: x }<br>因为和函数体的{ … }有语法冲突，所以要改为：<br>x =&gt; ({ foo: x })</p>
<h3 id="箭头函数和匿名函数的区别"><a href="#箭头函数和匿名函数的区别" class="headerlink" title="箭头函数和匿名函数的区别"></a>箭头函数和匿名函数的区别</h3><p>箭头函数看上去是匿名函数的一种简写，但实际上，箭头函数和匿名函数有个明显的区别：</p>
<ul>
<li>箭头函数内部的this是词法作用域，由上下文确定。</li>
<li>由于this在箭头函数中已经按照词法作用域绑定了，所以，用call()或者apply()调用箭头函数时，无法对this进行绑定，即传入的第一个参数被忽略。</li>
</ul>
<h2 id="包"><a href="#包" class="headerlink" title="包"></a>包</h2><p>包是一个特殊的文件模块。<br>包的作用：在模块的基础上进一步组织JavaScript代码。</p>
<h3 id="包的组成"><a href="#包的组成" class="headerlink" title="包的组成"></a>包的组成</h3><h4 id="包结构"><a href="#包结构" class="headerlink" title="包结构"></a>包结构</h4><p>包就是一个文件夹，<span style="color:red">文件夹的名字最好是包名</span></p>
<ul>
<li>入口文件——————&gt;index.js或app.js<br>写大的应用例如网站的时候，叫app.js</li>
<li>包说明文件（不只是给别人看的）——————&gt;package.json<br>描述你的当前的包的一些相关的信息<br>在package.json中可以配置入口文件<br>属性解释：</li>
</ul>
<ol>
<li>name：包名</li>
<li>version：版本号一般是三位</li>
<li>description：包的描述</li>
<li>main：入口文件，默认是index.js</li>
<li>keywords：关键词（搜索时按关键词查询）</li>
<li>license：许可证，一般将值设为’MIT’</li>
<li>author：作者</li>
<li>repository：代码库地址</li>
<li>bugs：提交地址</li>
<li>devDependencies：开发环境包依赖</li>
<li>dependencies：生产环境包依赖</li>
</ol>
<ul>
<li>lib文件夹 ——————&gt; 存放js文件的</li>
<li>bin文件夹 ——————&gt; 存放二进制文件或者脚本文件</li>
<li>test ——————&gt; 测试文件夹</li>
<li>docs ——————&gt; 存放文档</li>
<li>node_modules ——————&gt; 如果我需要引入别的包，别的包下载到这个文件夹里</li>
</ul>
<h4 id="package-json文件的创建："><a href="#package-json文件的创建：" class="headerlink" title="package.json文件的创建："></a>package.json文件的创建：</h4><ul>
<li>命令行输入：<br>npm init：帮我们创建package.json文件<br>name：使用默认直接回车   也可以自己命名，用英文<br>version：0.0.1<br>description：描述，随便写一些<br>git repository：github源码地址<br>author：作者是谁<br>（中间有一些选项不知道怎么填直接回车）<br>创建完成，如果是我们想要的，就直接回车</li>
</ul>
<h2 id="语义化版本号"><a href="#语义化版本号" class="headerlink" title="语义化版本号"></a>语义化版本号</h2><p>1.2.3这种版本号的定义叫语义化版本号；<br>3 表示补丁包版本更新<br>2 表示向下兼容性版本更新<br>1 表示重大版本更新</p>
<h2 id="npm-node-package-manager"><a href="#npm-node-package-manager" class="headerlink" title="npm     node package manager"></a>npm     node package manager</h2><ul>
<li>基于Node.js开发的包的托管网站</li>
<li>Node.js包管理工具</li>
<li>基于包的规范实现的一个包管理工具</li>
</ul>
<h3 id="使用npm下载各种包"><a href="#使用npm下载各种包" class="headerlink" title="使用npm下载各种包"></a>使用npm下载各种包</h3><p>当执行npm install的时候，会自动在当前目录中查找package.json文件<br>如果找到，找里面的 dependencies 字段，安装该字段中所有依赖的项                   </p>
<ul>
<li><p>dependencies<br>“包名”:”版本号” </p>
<ol>
<li><blockquote>
<p>+版本号 ——————&gt; 下载大于某个版本号，npm会下最新版</p>
</blockquote>
</li>
<li>&lt; +版本号 ——————&gt; 下载小于某个版本号，npm会下小于这个版本号最新版</li>
<li>&lt;= 小于等于 ——————&gt; 一定会下你写的这个版本，除非没有你写的这个版本</li>
<li><blockquote>
<p>= 大于等于 ——————&gt; 下载最新版</p>
</blockquote>
</li>
<li>*、” “、X 任意 ——————&gt; npm会给你下最新版</li>
<li>^ +版本号  不跃迁版本下载，^2.1.0 npm会下载大版本不变，去下载2.xx版本里的最近版</li>
<li>~ +版本号  会去下约等于这个版本的最新版，在大版本不变的情况下下一个比较新的版本 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&quot;devDependencies&quot;:&#123;&quot;jquery&quot;:&quot;1.7.2&quot;,&quot;zepto&quot;:&quot;*&quot;&#125;  </div><div class="line"></div><div class="line">&quot;devDependencies&quot;:&#123;&quot;jquery&quot;:&quot;&gt;1.7.2 &lt;3.1.1&quot;&#125;       </div><div class="line"></div><div class="line">&quot;devDependencies&quot;:&#123;&quot;jquery&quot;:&quot;^1.9.*&quot;&#125;            </div><div class="line"></div><div class="line">&quot;devDependencies&quot;:&#123;&quot;jquery&quot;:&quot;~1.9.*&quot;&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>npm install –save 生产环境<br>npm i -S jquery@3.*<br>咱们以后在做项目的时候，先初始化一个package.json文件；<br>在安装第三方包依赖的时候，必须使用npm install –save express,添加依赖项到package.json文件中，实际就是添加到dependencies字段中。</p>
</li>
<li><p>npm install -save-dev 开发环境<br>npm i -D jquery@3.*<br>咱们以后在做项目的时候，先初始化一个package.json文件；<br>在安装第三方包依赖的时候，必须使用npm install –save express,添加依赖项到package.json文件中，实际就是添加到devDependencies字段中。</p>
</li>
<li><p>i是install的缩写<br>npm i -S jquery@1.9.1<br>npm i -D jquery@1.9.1</p>
</li>
<li><p>npm docs 包名<br>npm docs jquery    直接进入jquery的官网<br>npm docs angular   直接进入angular的官网<br>……</p>
</li>
<li><p>npm config set prefix  修改全局安装目录<br>不建议使用，建议去文件夹里面改 C:\Users\用户名  里面有一个 .npmrc 文件<br>去里面改 prefix = C:\dev\npm  （写你的路径）<br>去全局的环境变量path里把 C:\dev\npm 路径加进去</p>
</li>
<li><p>使用npm的最终目的：<br>让你的开发模式工程化，都依靠工具来管理。</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/04/note2/" itemprop="url">
                  笔记2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2017-01-04T00:48:35+08:00" content="2017-01-04">
              2017-01-04
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h2><ul>
<li>Web开发是基于HTTP进行的，HTTP协议是一个无状态协议。所谓无状态协议，是指服务端不会记录与客户端相关的任何内容。</li>
<li>在现实中是需要服务端记录客户端信息的（需要有状态的），比如‘登录’，就需要服务器能够记录下来客户端的登录情况，并能够进行区分。这种机制就是HTTP的会话机制（通过HTTP会话机制解决无状态）。</li>
<li>会话机制是通过cookie和session来实现的。</li>
</ul>
<h2 id="cookie是什么？"><a href="#cookie是什么？" class="headerlink" title="cookie是什么？"></a>cookie是什么？</h2><ul>
<li>客户端的cookie<br>cookie是记录在客户端（浏览器）的。<br>通过document.cookie可以对cookie进行读取、写入：console.log(document.cookie);</li>
<li><p>写入cookie<br>cookie是以特定格式的字符串形式存在的：key1=value1;key2=value2;……<br>cookie是有生命周期的，默认是关闭浏览器cookie自动清除。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">document.cookie=&apos;name=itcast&apos;;</div><div class="line">document.cookie=&apos;age=10&apos;;</div></pre></td></tr></table></figure>
</li>
<li><p>获取cookie</p>
<ol>
<li>cookie可以在不同页面间进行共享（可以获取其它页面设置的cookie），但是有域的限制（为了安全性考虑）。</li>
<li>读取时获取的仍然是字符串，使用时需要将cookie字符串进行拆分，得到一个对象{key1: value1, key2: value2,……}。</li>
<li>推荐使用jQuery插件进行cookie字符串的解析: <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;script src=&quot;jquery.min.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script src=&quot;jquery.cookie.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">  document.cookie=&apos;name=itcast&apos;;          //设置</div><div class="line">  document.cookie=&apos;age=10&apos;;               //设置</div><div class="line">  console.log($.cookie());                //获取：Object &#123;name: &quot;itcast&quot;, age: &quot;10&quot;&#125;</div><div class="line">  console.log($.cookie(&apos;name&apos;));          //获取指定的值：itcast</div><div class="line">  $.cookie(&apos;gender&apos;,&apos;man&apos;);               //设置</div><div class="line">  console.log($.cookie());                //获取：Object &#123;name: &quot;itcast&quot;, age: &quot;10&quot;, gender: &quot;man&quot;&#125;</div><div class="line">  $.cookie(&apos;key&apos;,&apos;value&apos;,&#123;expires:7&#125;);    //设置,并且设置&apos;key=value&apos;这个cookie的生命周期为7天</div><div class="line">&lt;/script&gt;</div><div class="line"></div><div class="line">console.log(typeof document.cookie);      //string</div></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>默认浏览器关闭cookie的生命周期结束，那么如何更改cookie的生命周期？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">// expires：表示何时到期 </div><div class="line">// &apos;name=itcast&apos;这个cookie会到2017-01-04到期，即使浏览器关闭了，该cookie的生命周期也不会结束，该cookie仍然会存在。</div><div class="line">document.cookie=&apos;name=itcast;expires=&apos; + new Date(&apos;2017-01-04&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>原生JS操作cookie的方法</p>
<ol>
<li>可以使用cookie进行数据的存储，同域下的页面可以跨页面进行读取，但是限定大小约4k。<br><span style="color:green">读取时获取的仍然是字符串</span><br><span style="color:green">使用时需要将cookie字符串进行拆分</span></li>
<li><p>用作会话机制<br>请求时查看cookie的状态<br><strong> <span style="color:red">传输cookie到服务端,每次请求都会把cookie当做请求头进行传输 </span></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// cookie是记录在客户端（浏览器）的，但是服务端可以对其进行读取和设置。</div><div class="line">// 在服务端进行获取，以PHP为例：$_COOKIE; 可以获取浏览器端传过来的cookie</div><div class="line">print_r($_COOKIE);             //获取到数组</div><div class="line">echo $_COOKIE[&apos;key&apos;];          //获取数组中指定的值</div><div class="line">// 在服务端进行设置，以PHP为例：</div><div class="line">setcookie(&apos;key&apos;,&apos;value&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>尽量避免在cookie中存储较多的数据，因为每次请求都会将cookie作为请求头的一部分进行传输。</p>
</li>
</ol>
</li>
</ul>
<h2 id="session是什么？"><a href="#session是什么？" class="headerlink" title="session是什么？"></a>session是什么？</h2><ul>
<li>cookie是记录在浏览器的，只有浏览器才能进行设置;<br>服务器并不是真正地设置，但是它会下发一个响应头，通知浏览器，需要设置某个cookie。<ul>
<li>session是记录在服务端的（作为前端不必太在意如何操作），但是多数情况下是与cookie并存的。</li>
</ul>
</li>
<li>以PHP为例，存储一个session：<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// 当使用PHP存储session时，要求浏览器设置一个cookie,叫做&apos;PHPSESSID&apos;</div><div class="line">session_start();</div><div class="line">$_SESSION[&apos;name&apos;]=&apos;itcast&apos;;</div><div class="line">echo $_SESSION[&apos;name&apos;];</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="使用session"><a href="#使用session" class="headerlink" title="使用session"></a>使用session</h2><p><span style="color:red">大多数情况下不用cookie，因为其存在于浏览器，cookie有被盗取或篡改的风险。</span><br>使用session相当于“将东西存进商场的储物柜再取出来”的过程。</p>
<h2 id="解决跨域"><a href="#解决跨域" class="headerlink" title="解决跨域"></a>解决跨域</h2><p><span style="color:red">在开发中遇到接口开发时会遇到跨域的问题，进行开发首要任务是解决跨域的问题，JSONP属于一种（需要服务端配合）， 假如数据的安全性较低，建议采用JSONP方式，假如数据的安全性较高，建议采用反向代理的方式。</span></p>
<p>反向代理（解决跨域）：修改配置文件httpd-vhosts.conf<br><img src="../images/httpd-vhosts.conf.JPG" alt=""><br><span style="color:brown">// 关闭正向代理，即开启反向代理</span><br>ProxyRequests Off<br><span style="color:brown">// 输入’/api’相当于输入’<a href="http://api.botue.com" target="_blank" rel="external">http://api.botue.com</a>‘</span><br>ProxyPass /api <a href="http://api.botue.com" target="_blank" rel="external">http://api.botue.com</a> </p>
<h2 id="前后端分离"><a href="#前后端分离" class="headerlink" title="前后端分离"></a>前后端分离</h2><p>采用前后端分离的方式开发，可以使各开发人员各司其职，从而使得开发变得更加高效。</p>
<h2 id="sessionStorage和localStorage与cookie和session的区别"><a href="#sessionStorage和localStorage与cookie和session的区别" class="headerlink" title="sessionStorage和localStorage与cookie和session的区别"></a>sessionStorage和localStorage与cookie和session的区别</h2><p>sessionStorage和localStorage用来存储数据，cookie和session用作会话机制。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/30/随笔/" itemprop="url">
                  Note1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-12-30T16:58:13+08:00" content="2016-12-30">
              2016-12-30
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="LESS"><a href="#LESS" class="headerlink" title="LESS"></a>LESS</h3><ul>
<li>less是基于Nodejs的一个工具，此工具可以将.less文件转换成.css文件。</li>
<li><p>使用：</p>
<ol>
<li>新建一个文件index.less </li>
<li>在less文件中书写样式，用@定义变量</li>
<li>在html文件中必须加上下面的代码，并且需要在服务器环境下访问</li>
<li>打开cmd命令行（在index.less文件的根目录下打开cmd）</li>
<li>输入lessc index.less，回车，得到css文件<br><strong>（sass和less用法相似）</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;link style=&quot;stylesheet/less&quot; href=&quot;less/index.less&quot;&gt;</div><div class="line">    &lt;--!服务要放到服务器环境下--&gt;</div><div class="line">&lt;script src=&apos;libs/less.min.js&apos;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>意义：<br>可以提高CSS的可维护程度，但是浏览器又不能直接识别LESS文件，需要转换成CSS后才能解析，所以开发阶段使用LESS，开发完成后使用</p>
</li>
</ul>
<h3 id="SERVER"><a href="#SERVER" class="headerlink" title="$_SERVER"></a>$_SERVER</h3><ul>
<li>$_SERVER是数组，可以获得服务器信息，其中索引为’PATH_INFO’的数组元素是地址部分信息。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;?php</div><div class="line">    //该php文件名为index.php，执行此php文件，如果此时url为index.php/index,则$pathinfo的值为/index</div><div class="line">    $pathinfo=$_SERVER[&apos;PATH_INFO&apos;];</div><div class="line">    // 将路径进行拆分，得到[&apos;index&apos;]</div><div class="line">    $pathinfo = explode(&apos;/&apos;, substr($pathinfo, 1));</div><div class="line">    // 文件名称</div><div class="line">    $filename = $pathinfo[0]; </div><div class="line">    // php中引入文件（include），执行该php文件时，加载引入的文件</div><div class="line">    include &apos;./view/&apos;.$filename.&apos;.html&apos;;</div><div class="line">?&gt;</div></pre></td></tr></table></figure>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/back.png"
               alt="筱ying" />
          <p class="site-author-name" itemprop="name">筱ying</p>
          <p class="site-description motion-element" itemprop="description">Ten years from now,what we will do?</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">3</span>
              <span class="site-state-item-name">Artikel</span>
            </a>
          </div>

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">筱ying</span>
</div>

<div class="powered-by">
  Erstellt mit  <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  

  

  

</body>
</html>
